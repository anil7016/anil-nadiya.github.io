{"ast":null,"code":"import _regeneratorRuntime from\"/var/www/html/nodejs/anil7016.github.io/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/var/www/html/nodejs/anil7016.github.io/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/var/www/html/nodejs/anil7016.github.io/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/var/www/html/nodejs/anil7016.github.io/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/var/www/html/nodejs/anil7016.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import Button from'react-bootstrap/Button';import Form from'react-bootstrap/Form';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var API_PATH='http://localhost:890/nodejs/react-app/api/contact.php';var Contact=function Contact(){var _useState=useState({name:'',email:''}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];console.log('values',values);var set=function set(name){return function(_ref){var value=_ref.target.value;setValues(function(oldValues){return _objectSpread(_objectSpread({},oldValues),{},_defineProperty({},name,value));});};};var saveFormData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"\".concat(API_PATH),{method:'POST',body:JSON.stringify(values)});case 2:response=_context.sent;if(!(response.status!==200)){_context.next=5;break;}throw new Error(\"Request failed: \".concat(response.status));case 5:case\"end\":return _context.stop();}}},_callee);}));return function saveFormData(){return _ref2.apply(this,arguments);};}();var onSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();// Prevent default submission\n_context2.prev=1;_context2.next=4;return saveFormData();case 4:alert('Your registration was successfully submitted!');setValues({name:'',email:''});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);alert(\"Registration failed! \".concat(_context2.t0.message));case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function onSubmit(_x){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"section container\",children:/*#__PURE__*/_jsxs(Form,{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicName\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter name\",value:values.name,onChange:set('name')}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter email\",value:values.email,onChange:set('email')}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Submit\"})]})});};export default Contact;","map":{"version":3,"names":["React","useState","Button","Form","axios","API_PATH","Contact","name","email","values","setValues","console","log","set","value","target","oldValues","saveFormData","fetch","method","body","JSON","stringify","response","status","Error","onSubmit","event","preventDefault","alert","message"],"sources":["/var/www/html/nodejs/anil7016.github.io/src/Contact.js"],"sourcesContent":["import React, {useState} from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport axios from 'axios';\n\nconst API_PATH = 'http://localhost:890/nodejs/react-app/api/contact.php';\n\n\nconst Contact = () => {\n    const [values, setValues] = useState({name:'',email:''});\n    console.log('values', values)\n    const set = (name) => {\n        return ( { target: {value} } ) => {\n            setValues(oldValues => ( {...oldValues, [name]:value} ) )\n        }\n    }\n    const saveFormData = async () => {\n        // axios({\n        //     method: 'post',\n        //     url: `${API_PATH}`,\n        //     headers: { 'content-type': 'application/json' },\n        //     data: values\n        //   })\n        //     .then(result => {\n        //       this.setState({\n        //         mailSent: result.data.sent\n        //       })\n        //     })\n        //     .catch(error => this.setState({ error: error.message }));\n        const response = await fetch(`${API_PATH}`, {\n          method: 'POST',\n          body: JSON.stringify(values)\n        });\n        if (response.status !== 200) {\n          throw new Error(`Request failed: ${response.status}`); \n        }\n\n      }\n      const onSubmit = async (event) => {\n        event.preventDefault(); // Prevent default submission\n        try {\n          await saveFormData();\n          alert('Your registration was successfully submitted!');\n          setValues({\n            name: '', email: '' \n          });\n        } catch (e) {\n          alert(`Registration failed! ${e.message}`);\n        }\n      }\n\n\n    return(\n        <div className=\"section container\">\n            <Form onSubmit={onSubmit}>\n                <Form.Group className=\"mb-3\" controlId=\"formBasicName\">\n                    <Form.Label>Name</Form.Label>\n                    <Form.Control type=\"text\" placeholder=\"Enter name\" value={values.name} onChange={set('name')} />\n                    <Form.Text className=\"text-muted\">\n                    </Form.Text>\n                </Form.Group>\n                <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n                    <Form.Label>Email address</Form.Label>\n                    <Form.Control type=\"email\" placeholder=\"Enter email\"  value={values.email} onChange={ set('email')} />\n                    <Form.Text className=\"text-muted\">\n                    We'll never share your email with anyone else.\n                    </Form.Text>\n                </Form.Group>\n\n                <Button variant=\"primary\" type=\"submit\">\n                    Submit\n                </Button>\n            </Form>\n        </div>    \n    )\n}\n\nexport default Contact;"],"mappings":"koBAAA,MAAOA,MAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAOC,OAAP,KAAmB,wBAAnB,CACA,MAAOC,KAAP,KAAiB,sBAAjB,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,wFAEA,GAAMC,SAAQ,CAAG,uDAAjB,CAGA,GAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CAClB,cAA4BL,QAAQ,CAAC,CAACM,IAAI,CAAC,EAAN,CAASC,KAAK,CAAC,EAAf,CAAD,CAApC,wCAAOC,MAAP,eAAeC,SAAf,eACAC,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAsBH,MAAtB,EACA,GAAMI,IAAG,CAAG,QAANA,IAAM,CAACN,IAAD,CAAU,CAClB,MAAO,eAA2B,IAAdO,MAAc,MAAvBC,MAAuB,CAAdD,KAAc,CAC9BJ,SAAS,CAAC,SAAAM,SAAS,wCAAUA,SAAV,wBAAsBT,IAAtB,CAA4BO,KAA5B,IAAV,CAAT,CACH,CAFD,CAGH,CAJD,CAKA,GAAMG,aAAY,6FAAG,wKAaMC,MAAK,WAAIb,QAAJ,EAAgB,CAC1Cc,MAAM,CAAE,MADkC,CAE1CC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeb,MAAf,CAFoC,CAAhB,CAbX,QAaXc,QAbW,oBAiBbA,QAAQ,CAACC,MAAT,GAAoB,GAjBP,+BAkBT,IAAIC,MAAJ,2BAA6BF,QAAQ,CAACC,MAAtC,EAlBS,uDAAH,kBAAZP,aAAY,2CAAlB,CAsBE,GAAMS,SAAQ,6FAAG,kBAAOC,KAAP,wHACfA,KAAK,CAACC,cAAN,GAAwB;AADT,wCAGPX,aAAY,EAHL,QAIbY,KAAK,CAAC,+CAAD,CAAL,CACAnB,SAAS,CAAC,CACRH,IAAI,CAAE,EADE,CACEC,KAAK,CAAE,EADT,CAAD,CAAT,CALa,mFASbqB,KAAK,gCAAyB,aAAEC,OAA3B,EAAL,CATa,sEAAH,kBAARJ,SAAQ,6CAAd,CAcF,mBACI,YAAK,SAAS,CAAC,mBAAf,uBACI,MAAC,IAAD,EAAM,QAAQ,CAAEA,QAAhB,wBACI,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,MAAtB,CAA6B,SAAS,CAAC,eAAvC,wBACI,KAAC,IAAD,CAAM,KAAN,mBADJ,cAEI,KAAC,IAAD,CAAM,OAAN,EAAc,IAAI,CAAC,MAAnB,CAA0B,WAAW,CAAC,YAAtC,CAAmD,KAAK,CAAEjB,MAAM,CAACF,IAAjE,CAAuE,QAAQ,CAAEM,GAAG,CAAC,MAAD,CAApF,EAFJ,cAGI,KAAC,IAAD,CAAM,IAAN,EAAW,SAAS,CAAC,YAArB,EAHJ,GADJ,cAOI,MAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,MAAtB,CAA6B,SAAS,CAAC,gBAAvC,wBACI,KAAC,IAAD,CAAM,KAAN,4BADJ,cAEI,KAAC,IAAD,CAAM,OAAN,EAAc,IAAI,CAAC,OAAnB,CAA2B,WAAW,CAAC,aAAvC,CAAsD,KAAK,CAAEJ,MAAM,CAACD,KAApE,CAA2E,QAAQ,CAAGK,GAAG,CAAC,OAAD,CAAzF,EAFJ,cAGI,KAAC,IAAD,CAAM,IAAN,EAAW,SAAS,CAAC,YAArB,4DAHJ,GAPJ,cAeI,KAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,IAAI,CAAC,QAA/B,oBAfJ,GADJ,EADJ,CAuBH,CAnED,CAqEA,cAAeP,QAAf"},"metadata":{},"sourceType":"module"}